{% extends "layout.html" %}
{% block page_title %}GOV.UK prototype kit{% endblock %}

{% block content %}

{% if referrer() == 'format' or referrer() == 'title-summary-body' %}
  {% set editing = false %}
{% else %}
  {% set editing = true %}
{% endif %}

<a href="{% if editing %}/document-tasks{% else %}/format{% endif %}" class="govuk-c-back-link">Back</a>
<main role="main" class="govuk-o-main-wrapper">
  <div class="govuk-o-grid">
    <div class="govuk-o-grid__item govuk-o-grid__item--two-thirds">
      <form action="{% if editing %}/document-tasks{% else %}/title-summary-body{% endif %}" method="post" class="form">
        {% if data['format'] == 'News article' or data['format'] == 'Speech' %}
        <div class="govuk-!-mb-r6">
          <fieldset>
            <legend>
              <h1 class="govuk-heading-xl form-title">
                What type of {{ data.format | lower }}?
              </h1>
              <p class="govuk-body">Read the full guidance on choosing the right <a href="https://www.gov.uk/guidance/content-design/content-types">GOV.UK content type</a> for users.</p>
            </legend>

            {% set fields = [
                {
                  name: 'Government response',
                  format: 'News article',
                  text: '<p class="govuk-body">Government statements in response to media coverage, such as rebuttals or ‘myth busters’.</p>',
                  more: '<p class="govuk-body">Do not use for statements to Parliament. Use the “Speech” format for those.<p class="govuk-body"><p class="govuk-body">Read the <a href="https://www.gov.uk/guidance/content-design/content-types#government-response">government response guidance</a> in full.</p>'
                },
                {
                  name: 'News story',
                  format: 'News article',
                  text: '<p class="govuk-body">News written exclusively for GOV.UK which users need, can act on, and can’t get from other sources.</p>',
                  more: '<p class="govuk-body">Do not duplicate press releases or news published by another department.</p>
                  <p class="govuk-body">Read the <a href="https://www.gov.uk/guidance/content-design/content-types#news-story">news story guidance</a> in full.</p>'
                },
                {
                  name: 'Press release',
                  format: 'News article',
                  text: '<p class="govuk-body">Unedited press releases as sent to the media, and official statements from the organisation or a minister.',
                  more: 'Do not use for statements to Parliament. Use the “Speech” format for those.</p>
                  <p class="govuk-body">Read the <a href="https://www.gov.uk/guidance/content-design/content-types#press-release">press release guidance</a> in full.</p>'
                },
                {
                  name: 'World news story',
                  format: 'News article',
                  text: '<p class="govuk-body">Announcements specific to one or more world location.</p>',
                  more: '<p class="govuk-body">Do not duplicate news published by another department.</p>
                  <p class="govuk-body">Read the <a href="https://www.gov.uk/guidance/content-design/content-types#world-location-news-article">world news story guidance</a> in full.'
                },
                {
                  name: 'Foreign language only news story',
                  format: 'News article',
                  text: '<p class="govuk-body">A news story which will only be published in a foreign language and not in English. If there is an English version add translated versions to that instead.</p>',
                  more: '<p class="govuk-body">Read the <a href="https://www.gov.uk/guidance/content-design/content-types#world-location-news-article">world news story guidance</a> in full.</p>'
                },
                {
                  name: 'Transcript',
                  format: 'Speech',
                  text: '<p class="govuk-body">A verbatim report of exactly what the speaker said (checked against delivery).</p>'
                },
                {
                  name: 'Draft text',
                  format: 'Speech',
                  text: '<p class="govuk-body">A script of what the speaker was expected to say (check against delivery).</p>'
                },
                {
                  name: 'Speaking notes',
                  format: 'Speech',
                  text: '<p class="govuk-body">Incomplete notes about what the speech covered.</p>'
                },
                {
                  name: 'Written statement to Parliament',
                  format: 'Speech',
                  text: '<p class="govuk-body">Very significant written statements given to Parliament by a minister.</p>'
                },
                {
                  name: 'Oral statement to Parliament',
                  format: 'Speech',
                  text: '<p class="govuk-body">Very significant oral statements given to Parliament by a minister.</p>'
                },
                {
                  name: 'Authored article',
                  format: 'Speech',
                  text: '<p class="govuk-body">Bylined articles written in the name of a minister or official (usually re-published from elsewhere).</p>'
                }
              ]
            %}

            {% for field in fields %}
              {% if data['format'] == field.format %}
              <div class="multiple-choice govuk-c-radios__item" data-target="radio-part-{{ loop.index }}-extra">
                <input required id="radio-part-{{ loop.index }}" type="radio" name="document-type" value="{{ field.name }}" {% if editing %}{{ checked("document-type", field.name) }}{% endif %} class="govuk-c-radios__input">
                <label for="radio-part-{{ loop.index }}" class="govuk-c-label govuk-c-radios__label">
                  <span class="govuk-c-label--bold">{{ field.name }}</span>
                  {{ field.text | safe }}

                  {% if field.more %}
                  <div class="panel panel-border-wide js-hidden govuk-!-mt-r4 govuk-!-mb-r4" id="radio-part-{{ loop.index }}-extra">
                    {{ field.more | safe }}
                  </div>
                  {% endif %}
                </label>
              </div>
              {% endif %}
            {% endfor %}
          </fieldset>
        </div>
        {% endif %}
        <div class="govuk-!-mb-r6">
          <input type="submit" class="govuk-c-button" value="{% if editing %}Save{% else %}Continue{% endif %}">
        </div>
        {% if editing %}
        <div class="govuk-!-mb-r6">
          <a href="/document-tasks" class="button button-link">Cancel</a>
        </div>
        {% endif %}
      </form>
    </div>
  </div>
</main>

{% endblock %}
