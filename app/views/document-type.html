{% extends "layout.html" %}
{% block page_title %}GOV.UK prototype kit{% endblock %}

{% block content %}

{% if referrer() == 'format' or referrer() == 'title-summary-body' %}
  {% set editing = false %}
{% else %}
  {% set editing = true %}
{% endif %}

<main id="content" role="main">
  <a href="{% if editing %}/document-tasks{% else %}/format{% endif %}" class="link-back">Back</a>
  <div class="grid-row">
    <div class="column-two-thirds">
      <form action="{% if editing %}/document-tasks{% else %}/title-summary-body{% endif %}" method="post" class="form">
        <div class="form-group">
          <fieldset>
            <legend>
              <h1 class="heading-xlarge form-title">
                What type of {{ data.format | lower }}?
              </h1>
              <p>Read the full guidance on choosing the right <a href="https://www.gov.uk/guidance/content-design/content-types">GOV.UK content type</a> for users.</p>
            </legend>

            {% set fields = [
                {
                  name: 'Government response',
                  text: '<p>Government statements in response to media coverage, such as rebuttals or ‘myth busters’.</p>',
                  more: '<p>Do not use for statements to Parliament. Use the “Speech” format for those.<p><p>Read the <a href="https://www.gov.uk/guidance/content-design/content-types#government-response">government response guidance</a> in full.</p>'
                },
                {
                  name: 'News story',
                  text: '<p>News written exclusively for GOV.UK which users need, can act on, and can’t get from other sources.</p>',
                  more: '<p>Do not duplicate press releases or news published by another department.</p>
                  <p>Read the <a href="https://www.gov.uk/guidance/content-design/content-types#news-story">news story guidance</a> in full.</p>'
                },
                {
                  name: 'Press release',
                  text: '<p>Unedited press releases as sent to the media, and official statements from the organisation or a minister.',
                  more: 'Do not use for statements to Parliament. Use the “Speech” format for those.</p>
                  <p>Read the <a href="https://www.gov.uk/guidance/content-design/content-types#press-release">press release guidance</a> in full.</p>'
                },
                {
                  name: 'World news story',
                  text: '<p>Announcements specific to one or more world location.</p>',
                  more: '<p>Do not duplicate news published by another department.</p>
                  <p>Read the <a href="https://www.gov.uk/guidance/content-design/content-types#world-location-news-article">world news story guidance</a> in full.'
                },
                {
                  name: 'Foreign language only news story',
                  text: '<p>A news story which will only be published in a foreign language and not in English. If there is an English version add translated versions to that instead.</p>',
                  more: '<p>Read the <a href="https://www.gov.uk/guidance/content-design/content-types#world-location-news-article">world news story guidance</a> in full.</p>'
                }
              ]
            %}

            {% for field in fields %}
              <div class="multiple-choice" data-target="radio-part-{{ loop.index }}-extra">
                <input required id="radio-part-{{ loop.index }}" type="radio" name="document-type" value="{{ field.name }}" {% if editing %}{{ checked("document-type", field.name) }}{% endif %}>
                <label for="radio-part-{{ loop.index }}">
                  <span class="form-label-bold">{{ field.name }}</span>
                  {{ field.text | safe }}

                  <div class="panel js-hidden" id="radio-part-{{ loop.index }}-extra">
                    {{ field.more | safe }}
                  </div>
                </label>
              </div>

            {% endfor %}
          </fieldset>
        </div>
        <div class="form-group">
          <input type="submit" class="button" value="{% if editing %}Save{% else %}Continue{% endif %}">
        </div>
        {% if editing %}
        <div class="form-group">
          <a href="/document-tasks" class="button button-link">Cancel</a>
        </div>
        {% endif %}
      </form>
    </div>
  </div>
</main>

{% endblock %}
